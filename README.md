# –ö–∞—Å—Ç–æ–º–Ω—ã–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –±–∞–Ω–Ω–µ—Ä –¥–ª—è OpenWrt

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∑–∞–º–µ–Ω—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (MOTD) –≤ OpenWrt –Ω–∞ –∫—Ä–∞—Å–∏–≤—ã–π –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π –±–∞–Ω–Ω–µ—Ä. –û–Ω –≤—ã–≤–æ–¥–∏—Ç –∫–ª—é—á–µ–≤—É—é —Å–∏—Å—Ç–µ–º–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —É–¥–æ–±–Ω–æ–º –¥–ª—è —á—Ç–µ–Ω–∏—è –≤–∏–¥–µ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π –∏ –∏–∫–æ–Ω–∫–∞–º–∏, –Ω–µ —Ç—Ä–µ–±—É—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤.

–°–∫—Ä–∏–ø—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤, —á—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —Å–∏—Å—Ç–µ–º, —Ç–∞–∫–∏—Ö –∫–∞–∫ —Ä–æ—É—Ç–µ—Ä—ã.

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

![image_2025-06-14_22-00-35](https://github.com/user-attachments/assets/d82a1d97-2982-4b51-8856-58f21f773a9f)

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

-   **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å**: –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã: –æ—Ç –º–æ–¥–µ–ª–∏ —Ä–æ—É—Ç–µ—Ä–∞ –∏ –≤–µ—Ä—Å–∏–∏ –û–° –¥–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã CPU –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤.
-   **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–∏—Å—Ç–µ–º–µ (–º–æ–¥–µ–ª—å, –≤–µ—Ä—Å–∏—è, —è–¥—Ä–æ) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–¥–∏–Ω –≤—ã–∑–æ–≤ `ubus`, —á—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–∏—Å—Ç–µ–º—É –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏.
-   **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ CPU**: –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π: –∑–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏ –∫—Ä–∞—Å–Ω—ã–π –¥–ª—è –≤—ã—Å–æ–∫–æ–π (–ø–æ—Ä–æ–≥ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è).
-   **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ SSH-—Å–µ—Å—Å–∏–π (`netstat`, `ss`, `awk`, `who`), –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —Ä–∞–±–æ—Ç—É –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏—è—Ö –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö OpenWrt.
-   **–£–º–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ CPU**: –ú–æ–¥–µ–ª—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º —á–µ—Ä–µ–∑ `devicetree`, —Å —Ñ–æ–ª–±—ç–∫–æ–º –Ω–∞ –¥–∞–Ω–Ω—ã–µ –∏–∑ `ubus`.
-   **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –†–∞–±–æ—Ç–∞–µ—Ç "–∏–∑ –∫–æ—Ä–æ–±–∫–∏" –Ω–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —É—Å—Ç–∞–Ω–æ–≤–æ–∫ OpenWrt, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–æ–ª—å–∫–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã BusyBox, `ubus` –∏ `opkg`.
-   **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏**: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π.

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–°–∫—Ä–∏–ø—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å —É—á–µ—Ç–æ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –¥–ª—è OpenWrt —É—Ç–∏–ª–∏—Ç—ã.

-   **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è OpenWrt**: 24.10.
-   **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**: –£—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ **Xiaomi Router AX3000T**.
-   **–¢—Ä–µ–±—É–µ–º—ã–µ —É—Ç–∏–ª–∏—Ç—ã**: `sh`, `awk`, `cut`, `grep`, `df`, `ps`, `date`, `uname`, `ubus`, `opkg`. –î–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ IP-–∞–¥—Ä–µ—Å–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è `wget`. –í—Å–µ —ç—Ç–∏ —É—Ç–∏–ª–∏—Ç—ã, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ OpenWrt.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤–∞—à–µ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞, —á—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∞—Ç—å, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –±–∞–Ω–Ω–µ—Ä:

```bash
wget -O /etc/profile.d/banner.sh https://raw.githubusercontent.com/0FL01/OpenWrt-fetch/main/openwrt-banner.sh && \
chmod +x /etc/profile.d/banner.sh && \
echo "test -f /etc/profile.d/banner.sh && /etc/profile.d/banner.sh" >> /etc/profile
```
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ SSH-—Å–µ—Å—Å–∏–∏, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –Ω–æ–≤—ã–π –±–∞–Ω–Ω–µ—Ä.

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

–ï—Å–ª–∏ –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –≤—Ä—É—á–Ω—É—é:

1.  **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ:**
    ```bash
    vi /etc/profile.d/banner.sh
    ```

2.  **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ** —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `openwrt-banner.sh` –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä `vi` –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ (`:wq`).

3.  **–°–¥–µ–ª–∞–π—Ç–µ —Ñ–∞–π–ª –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:**
    ```bash
    chmod +x /etc/profile.d/banner.sh
    ```

4.  **–î–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É** –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Å–∏—Å—Ç–µ–º—É, –≤—ã–ø–æ–ª–Ω–∏–≤ –∫–æ–º–∞–Ω–¥—É:
    ```bash
    echo "test -f /etc/profile.d/banner.sh && /etc/profile.d/banner.sh" >> /etc/profile
    ```

5.  –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ SSH-—Å–µ—Å—Å–∏–∏.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ CPU —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—ã—Å–æ–∫–æ–π –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º, –µ—Å–ª–∏ –æ–Ω–∞ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç **65¬∞C** –∏–ª–∏ –≤—ã—à–µ. –í—ã –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –∏–∑–º–µ–Ω–∏—Ç—å —ç—Ç–æ—Ç –ø–æ—Ä–æ–≥.

1.  –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª —Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
    ```bash
    vi /etc/profile.d/banner.sh
    ```

2.  –ù–∞–π–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `get_cpu_temp` –∏ –≤ –Ω–µ–π —Å—Ç—Ä–æ–∫—É:
    ```sh
    if [ $temp_c -ge 65 ]; then
    ```

3.  –ó–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `65` –Ω–∞ –∂–µ–ª–∞–µ–º—ã–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–π –ø–æ—Ä–æ–≥ –≤ –≥—Ä–∞–¥—É—Å–∞—Ö –¶–µ–ª—å—Å–∏—è.

## –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

-   `Date`: üìÖ –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–Ω–∞—è –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è.
-   `Uptime`: üïê –í—Ä–µ–º—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ä–æ—É—Ç–µ—Ä–∞.
-   `Router`: üè† –ú–æ–¥–µ–ª—å –≤–∞—à–µ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞.
-   `External IP`: üåê –í–∞—à –≤–Ω–µ—à–Ω–∏–π IP-–∞–¥—Ä–µ—Å (—Ç—Ä–µ–±—É–µ—Ç `wget` –∏ –¥–æ—Å—Ç—É–ø–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç).
-   `OS`: üêß –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è OpenWrt.
-   `CPU`: üíª –ú–æ–¥–µ–ª—å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ (SoC).
-   `Kernel`: üêß –í–µ—Ä—Å–∏—è —è–¥—Ä–∞ Linux.
-   `Architecture`: üíª –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞.
-   `CPU Temp`: üå°Ô∏è –¢–µ–∫—É—â–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π.
-   `Cores`: üî¥ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —è–¥–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞.
-   `Processes`: üî¥ –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.
-   `Disk Usage`: üíæ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏ (rootfs).
-   `Memory`: üß† –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ (RAM).
-   `Swap`: üíø –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏–ª–∏ —Ä–∞–∑–¥–µ–ª–∞ –ø–æ–¥–∫–∞—á–∫–∏.
-   `Load Avg`: üìä –°—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º—É –∑–∞ 1, 5 –∏ 15 –º–∏–Ω—É—Ç.
-   `Packages`: üì¶ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ `opkg`.
-   `SSH Sessions`: üîó –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö SSH-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ —Ä–æ—É—Ç–µ—Ä—É.

## –£–¥–∞–ª–µ–Ω–∏–µ

–ß—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∏—Ç—å –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–∏—Ç—å –±–∞–Ω–Ω–µ—Ä –∏–∑ —Å–∏—Å—Ç–µ–º—ã, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# –£–¥–∞–ª—è–µ–º —Ñ–∞–π–ª —Å–∫—Ä–∏–ø—Ç–∞
rm /etc/profile.d/banner.sh

# –£–¥–∞–ª—è–µ–º –µ–≥–æ –≤—ã–∑–æ–≤ –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è
sed -i '/banner.sh/d' /etc/profile
```
